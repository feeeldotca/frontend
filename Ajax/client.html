<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./jquery-1.3.2.min.js"></script>
    <style>
        #test{
            width:100px;
            height:50px;
            background-color: aqua;
            border: 1px solid green;
        }
    </style>
</head>
<body>
    <button id="btn">click to send ajax</button>
    <div id="test">
        test
    </div>
    <button id="fet">fetch</button> <br/>
    <button id="axios">Axios</button>

    <script>
        let result=document.getElementById('btn');
        const t=document.getElementById('test');
        const fet=document.getElementById("fet");
        const ax=document.getElementById("axios");
        console.log('t=',t);
        $('button').eq(0).click(function(){
        $.get('http://127.0.0.1:8001/server', {x:'abs',y:333},function(data){
            console.log(data);
        })
        })
        t.onmouseover =
        //result.onclick = 
        function(){
            const xhr=new XMLHttpRequest();
            xhr.open('GET','http://127.0.0.1:8001/server',)
            xhr.send({a:100,b:200});
            xhr.onreadystatechange = function(){
                if(xhr.readyState===4){
                    if(xhr.status>=200 && xhr.status<300){
                        console.log(xhr.responseText);
                        console.log(xhr.status);
                        console.log(xhr.getAllResponseHeaders());
                        t.innerHTML=xhr.response;
                    }
                }
            }
            
        }

        //Fetch function
        fet.onclick = function() {
            fetch('http://127.0.0.1:8001/server?vip=11',{
                methods: 'POST',          
                headers:{name: 'Ken Zhang'},
                body: 'usrname=bla&password=admin'

            }).then(response =>{
                console.log('response', response);
            })
        }

        //axios function
        //axios.dufaluts.baseURL = 'http://127.0.0.1:8001';
        ax.onclick = function() {
            console.log('this is axios key');
            axios({
                methods:'GET',
                url:'http://127.0.0.1:8001/server',
                params: {
                    vip: 10, level: 30
                },
                header: {
                    a:100, b:200
                },
                data: {
                    username: 'adamin'
                }
            }).then(response=>{
                console.log(response.status);
                console.log(response.statusText),
                console.log(response.header);
                console.log(response.data);
            })
        }
    </script>
</body>
</html>
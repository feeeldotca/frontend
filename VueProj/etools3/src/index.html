<!DOCTYPE html>
<html>

<head>

    <style>
        td {

            border: 1px solid black;

        }

        body {
            width: 100%;
            height: 100%;
            overflow: auto;

        }



        .marginp {

            margin: 0;

        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js" type="text/javascript"></script>

    <script>

        $(document).ready(function () {

            var td_duzina = new Array(); var td_otpor = new Array(); var td_otporX = new Array();
            var td_brojpotrosaca = new Array();
            var input_duzina = new Array(); var input_otpor = new Array(); var input_otporX = new Array();
            var input_brojpotrosaca = new Array();
            var td_snagapp = new Array();
            var input_snagapp = new Array();

            for (i = 0; i < 9; i++) {
                td_duzina[i] = document.createElement('td');
                td_duzina[i].id = i.toString();
                td_duzina[i].style.backgroundColor = "#4F4D4D";
                td_duzina[i].style.width = "100px"; td_otpor[i] = document.createElement('td'); td_otporX[i] = document.createElement('td');
                td_otpor[i].id = i.toString() + "otpor"; td_otporX[i].id = i.toString() + "otporX";
                td_otpor[i].style.backgroundColor = "#4F4D4D"; td_otporX[i].style.backgroundColor = "#4F4D4D";
                td_otpor[i].style.width = "100px"; td_otporX[i].style.width = "100px";


                input_duzina[i] = document.createElement("INPUT");
                input_duzina[i].setAttribute("type", "number");
                input_duzina[i].id = i.toString() + "input";
                input_otpor[i] = document.createElement("INPUT"); input_otporX[i] = document.createElement("INPUT");
                input_otpor[i].setAttribute("type", "number"); input_otporX[i].setAttribute("type", "number");
                input_otpor[i].id = i.toString() + "otpor" + "input"; input_otporX[i].id = i.toString() + "otporX" + "input";


                input_brojpotrosaca[i] = document.createElement("INPUT");
                input_brojpotrosaca[i].setAttribute("type", "number");
                input_brojpotrosaca[i].id = i.toString() + "brojpinput";

                input_snagapp[i] = document.createElement("INPUT");
                input_snagapp[i].setAttribute("type", "number");
                input_snagapp[i].id = i.toString() + "snagapp_input";

                td_duzina[i].appendChild(input_duzina[i]);
                input_duzina[i].style.width = "100px";
                tr_duzina = document.getElementById("duzina");
                tr_duzina.appendChild(td_duzina[i]);

                td_otpor[i].appendChild(input_otpor[i]); td_otporX[i].appendChild(input_otporX[i]);
                input_otpor[i].style.width = "100px"; input_otporX[i].style.width = "100px";
                tr_otpor = document.getElementById("otpor"); tr_otporX = document.getElementById("otporX");
                tr_otpor.appendChild(td_otpor[i]); tr_otporX.appendChild(td_otporX[i]);





                td_brojpotrosaca[i] = document.createElement('td');
                td_brojpotrosaca[i].id = i.toString() + "brojp";
                td_brojpotrosaca[i].style.backgroundColor = "#4F4D4D";
                td_brojpotrosaca[i].style.width = "50px";
                td_brojpotrosaca[i].appendChild(input_brojpotrosaca[i]);
                input_brojpotrosaca[i].style.width = "50px";
                tr_brojpotrosaca = document.getElementById("brojpotrosaca");
                tr_brojpotrosaca.appendChild(td_brojpotrosaca[i]);
                td_brojpotrosaca[i].style.position = "relative";


                td_snagapp[i] = document.createElement('td');
                td_snagapp[i].id = i.toString() + "snagapp";
                td_snagapp[i].style.backgroundColor = "#4F4D4D";
                td_snagapp[i].style.width = "50px";
                td_snagapp[i].appendChild(input_snagapp[i]);
                input_snagapp[i].style.width = "50px";
                tr_snagapp = document.getElementById("snagapp");
                tr_snagapp.appendChild(td_snagapp[i]);
                td_snagapp[i].style.position = "relative";
                var a_string;
                var a = 50;
                a_string = a * (i + 1) + 'px'
                td_brojpotrosaca[i].style.left = a_string;
                input_brojpotrosaca[i].style.textAlign = "right";
                td_snagapp[i].style.left = a_string;
                input_snagapp[i].style.textAlign = "right";

            }

            broj_elemenata = 9;
            input_duzina[0].focus();
            brojac = 0;
            nalazim_na_duzini = 1;


            $(document).keydown(function (event) {

                if (event.which == 13) {
                    if (nalazim_na_duzini == 1) {
                        input_brojpotrosaca[brojac].focus();
                        nalazim_na_duzini = 0;
                    } else {
                        brojac++;
                        if (brojac == broj_elemenata) {
                            brojac = 0;
                        }
                        input_duzina[brojac].focus();
                        nalazim_na_duzini = 1;
                    }
                }
                else if (event.which == 39) {

                    if (nalazim_na_duzini == 1) {
                        brojac++;
                        if (brojac == broj_elemenata) {
                            brojac = 0;
                        }
                        input_duzina[brojac].focus();
                    } else {
                        brojac++;
                        if (brojac == broj_elemenata) {
                            brojac = 0;
                        }
                        input_brojpotrosaca[brojac].focus();
                    }
                }
                else if (event.which == 37) {
                    if (nalazim_na_duzini == 1) {
                        brojac--;
                        if (brojac == -1) {
                            brojac = broj_elemenata - 1;
                        }
                        input_duzina[brojac].focus();
                    } else {
                        brojac--;
                        if (brojac == -1) {
                            brojac = broj_elemenata - 1;
                        }
                        input_brojpotrosaca[brojac].focus();
                    }
                }
                else if (event.which == 38) {
                    if (nalazim_na_duzini == 0) {
                        input_duzina[brojac].focus();
                        nalazim_na_duzini = 1;
                    }
                }
                else if (event.which == 40) {
                    if (nalazim_na_duzini == 1) {
                        input_brojpotrosaca[brojac].focus();
                        nalazim_na_duzini = 0;
                    }
                }
            });





            $(".tabela").click(function () {
                for (i = 0; i < broj_elemenata; i++) {
                    if ($(input_duzina[i]).is(":focus")) { nalazim_na_duzini = 1; brojac = i; break; }
                    else if ($(input_brojpotrosaca[i]).is(":focus")) { nalazim_na_duzini = 0; brojac = i; break; }
                }
            });
            $("#add").click(function () {
                i = broj_elemenata;
                td_duzina[i] = document.createElement('td');
                td_duzina[i].id = i.toString();
                td_duzina[i].style.backgroundColor = "#4F4D4D";
                td_duzina[i].style.width = "100px";

                td_otpor[i] = document.createElement('td');
                td_otpor[i].id = i.toString() + "otpor";
                td_otpor[i].style.backgroundColor = "#4F4D4D";
                td_otpor[i].style.width = "100px";


                td_otporX[i] = document.createElement('td');
                td_otporX[i].id = i.toString() + "otporX";
                td_otporX[i].style.backgroundColor = "#4F4D4D";
                td_otporX[i].style.width = "100px";




                input_duzina[i] = document.createElement("INPUT");
                input_duzina[i].setAttribute("type", "number");
                input_duzina[i].id = i.toString() + "input";

                input_otpor[i] = document.createElement("INPUT");
                input_otpor[i].setAttribute("type", "number");
                input_otpor[i].id = i.toString() + "otpor" + "input";

                input_otporX[i] = document.createElement("INPUT");
                input_otporX[i].setAttribute("type", "number");
                input_otporX[i].id = i.toString() + "otporX" + "input";

                if (click_arrow_otpor == 1) {
                    input_otpor[i].value = remember_r_ulaz;
                    input_otporX[i].value = remember_x_ulaz;
                }


                input_brojpotrosaca[i] = document.createElement("INPUT");
                input_brojpotrosaca[i].setAttribute("type", "number");
                input_brojpotrosaca[i].id = i.toString() + "brojpinput";
                input_snagapp[i] = document.createElement("INPUT");
                input_snagapp[i].setAttribute("type", "number");
                input_snagapp[i].id = i.toString() + "snagapp_input";

                td_duzina[i].appendChild(input_duzina[i]);
                input_duzina[i].style.width = "100px";
                tr_duzina = document.getElementById("duzina");
                tr_duzina.appendChild(td_duzina[i]);

                td_otpor[i].appendChild(input_otpor[i]);
                input_otpor[i].style.width = "100px";
                tr_otpor = document.getElementById("otpor");
                tr_otpor.appendChild(td_otpor[i]);



                td_otporX[i].appendChild(input_otporX[i]);
                input_otporX[i].style.width = "100px";
                tr_otporX = document.getElementById("otporX");
                tr_otporX.appendChild(td_otporX[i]);
                td_brojpotrosaca[i] = document.createElement('td');
                td_brojpotrosaca[i].id = i.toString() + "brojp";
                td_brojpotrosaca[i].style.backgroundColor = "#4F4D4D";
                td_brojpotrosaca[i].style.width = "50px";
                td_brojpotrosaca[i].appendChild(input_brojpotrosaca[i]);
                input_brojpotrosaca[i].style.width = "50px";
                tr_brojpotrosaca = document.getElementById("brojpotrosaca");
                tr_brojpotrosaca.appendChild(td_brojpotrosaca[i]);
                td_brojpotrosaca[i].style.position = "relative";
                td_snagapp[i] = document.createElement('td');
                td_snagapp[i].id = i.toString() + "snagapp";
                td_snagapp[i].style.backgroundColor = "#4F4D4D";
                td_snagapp[i].style.width = "50px";
                td_snagapp[i].appendChild(input_snagapp[i]);
                input_snagapp[i].style.width = "50px";
                tr_snagapp = document.getElementById("snagapp");
                tr_snagapp.appendChild(td_snagapp[i]);
                td_snagapp[i].style.position = "relative";





                var a_string;
                var a = 50;
                a_string = a * (i + 1) + 'px'
                td_brojpotrosaca[i].style.left = a_string;
                input_brojpotrosaca[i].style.textAlign = "right";

                td_snagapp[i].style.left = a_string;
                input_snagapp[i].style.textAlign = "right";
                broj_elemenata++;

                document.getElementById("racun_div").style.visibility = "hidden";





            });

            $("#remove").click(function () {
                if (broj_elemenata >= 1) {
                    broj_elemenata--;

                    red_duzina = document.getElementById("duzina");
                    red_otpor = document.getElementById("otpor");
                    red_otporX = document.getElementById("otporX");
                    red_brojpotrosaca = document.getElementById("brojpotrosaca");
                    red_snagapp = document.getElementById("snagapp");
                    td_duzina = document.getElementById(broj_elemenata.toString());
                    td_otpor = document.getElementById(broj_elemenata.toString() + "otpor");
                    td_otporX = document.getElementById(broj_elemenata.toString() + "otporX");
                    brojpp = broj_elemenata.toString() + "brojp";
                    snagapp = broj_elemenata.toString() + "snagapp";
                    td_brojpotrosaca = document.getElementById(brojpp);
                    td_snagapp = document.getElementById(snagapp);
                    red_duzina.removeChild(td_duzina);
                    red_otpor.removeChild(td_otpor);
                    red_otporX.removeChild(td_otporX);
                    red_brojpotrosaca.removeChild(td_brojpotrosaca);
                    red_snagapp.removeChild(td_snagapp);
                }
                document.getElementById("racun_div").style.visibility = "hidden";

            });

            $("#racunaj").click(function () {
                document.getElementById("racun_div").style.visibility = "hidden";
                document.getElementById("racun_div").style.visibility = "visible";

                racunaj();

            });


            function racunaj() {
                cosfi = document.getElementById("cosfi_ulaz").value;
                fi = document.getElementById("fi_ulaz").value;
                Pv1 = document.getElementById("Pi_ulaz").value;
                cosfi_pp = document.getElementById("cosfi_pp_ulaz").value;
                r = document.getElementById("r_ulaz").value;
                x = document.getElementById("x_ulaz").value;
                var n = 0; var n_array = new Array(broj_elemenata); l_array = new Array(broj_elemenata); var r_array = new Array(broj_elemenata); var x_array = new Array(broj_elemenata);
                for (i = 0; i < broj_elemenata; i++) {
                    id = i.toString() + "brojpinput";
                    n_array[i] = Number(document.getElementById(id).value);
                    id = i.toString() + "input";
                    l_array[i] = Number(document.getElementById(id).value);

                    if (click_arrow_otpor == 1) {
                        id = i.toString() + "otpor" + "input";
                        r_array[i] = Number(document.getElementById(id).value);

                        id = i.toString() + "otporX" + "input";
                        x_array[i] = Number(document.getElementById(id).value);
                    }
                    else {
                        r_array[i] = r;
                        x_array[i] = x;


                    }
                    n += n_array[i];

                }

                var racun_div = document.getElementById("racun_div");
                if (P1_openclose_check == 0) {

                    Pvn = Pv1 * (fi * n + (1 - fi) * Math.sqrt(n));
                    Pvn = Pvn.toFixed(4);
                    if (n == 0) { P1 = 0; } else { P1 = Pvn / n; }
                    P1 = Number(P1.toFixed(4)); Q1 = P1 * Math.sqrt(1 - cosfi * cosfi) / cosfi; Q1 = Number(Q1.toFixed(4));
                    document.getElementById("bezracuna_P1").style.display = "none";
                    document.getElementById("racun_P1").style.display = "inline";

                } else {
                    P1 = document.getElementById("P1_ulaz").value; Q1 = P1 * Math.sqrt(1 - cosfi * cosfi) / cosfi; Q1 = Number(Q1.toFixed(4));
                    Pvn = P1 * n;
                    Pvn = Number(Pvn.toFixed(4));
                    document.getElementById("racun_P1").style.display = "none";
                    document.getElementById("bezracuna_P1").style.display = "inline";


                }
                document.getElementsByClassName("paragraf_n")[0].innerHTML = n;
                document.getElementsByClassName("paragraf_n")[1].innerHTML = n;
                document.getElementsByClassName("paragraf_n")[2].innerHTML = n;
                document.getElementsByClassName("paragraf_n")[3].innerHTML = n;
                document.getElementsByClassName("paragraf_n")[4].innerHTML = n;
                document.getElementsByClassName("paragraf_Pv1")[0].innerHTML = Pv1;
                document.getElementsByClassName("paragraf_P1")[0].innerHTML = P1;
                document.getElementsByClassName("paragraf_P1")[1].innerHTML = P1;
                document.getElementsByClassName("paragraf_P1")[2].innerHTML = P1;
                document.getElementsByClassName("paragraf_P1")[3].innerHTML = P1;
                document.getElementsByClassName("paragraf_fi")[0].innerHTML = fi;
                document.getElementsByClassName("paragraf_fi")[1].innerHTML = fi;
                document.getElementsByClassName("paragraf_Pvn")[0].innerHTML = Pvn;
                document.getElementsByClassName("paragraf_Pvn")[1].innerHTML = Pvn;
                document.getElementsByClassName("paragraf_Pvn")[2].innerHTML = Pvn;
                document.getElementsByClassName("paragraf_cosfi")[0].innerHTML = cosfi;
                document.getElementsByClassName("paragraf_cosfi")[1].innerHTML = cosfi;

                document.getElementsByClassName("paragraf_Q1")[0].innerHTML = Q1;


                document.getElementById("racun_div").style.visibility = "hidden";
                document.getElementById("racun_div").style.visibility = "visible";



                var P_dionice = new Array(broj_elemenata); var Ppp = new Array(broj_elemenata); var Ppp_ukupno = 0; var pad_napona = 0;
                var Q_dionice = new Array(broj_elemenata); var Qpp = new Array(broj_elemenata); var Qpp_ukupno = 0; var pad_napona_array = new Array(); var padNpodionicama; var pad_napona_array_duzine = new Array();

                for (i = 0; i < broj_elemenata; i++) {
                    id = i.toString() + "snagapp_input";
                    Ppp[i] = Number(document.getElementById(id).value); Qpp[i] = 0;
                    Ppp_ukupno += Ppp[i];
                }


                document.getElementById("jalovasnagaPP").innerHTML = "";
                if (Ppp_ukupno != 0) {
                    document.getElementById("jalovasnagaPP").innerHTML = "<p>Odgovarajuæa optereæenja jalovom snagom posebnih potrošaèa raèunaju se iz zadanog faktora snage posebnih potrošaèa:</p>";
                    for (i = 0; i < broj_elemenata; i++) {
                        if (Ppp[i] != 0) {
                            Qpp[i] = Ppp[i] * Math.sqrt((1 - Math.pow(cosfi_pp, 2))) / cosfi_pp;
                            Qpp[i] = Qpp[i].toFixed(4);
                            Qpp_ukupno += Number(Qpp[i]);
                            p = document.createElement("p");
                            p.class = "remove";
                            JalovaSnagaPP = document.getElementById("jalovasnagaPP");
                            var p = document.createElement("p");
                            p.innerHTML = "Za posebni potrošaè snage P=" + Ppp[i] + " kW   jalova snaga iznosi: </span>Q = P &middot<span style='white-space: nowrap; '>&radic;<span style='text-decoration:overline;'>&nbsp;1-cosfi_pp<sup>2</sup>&nbsp;</span></span> / cosfi_pp &nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp; " + Ppp[i] + " &middot <span style='white-space: nowrap;'>&radic;<span style='text-decoration:overline;'>&nbsp;1- " + cosfi_pp + "<sup>2</sup>&nbsp;</span></span> / " + cosfi_pp + " &nbsp;&nbsp;&nbsp; = &nbsp;&nbsp;&nbsp; " + Qpp[i] + " </span> kVA<sub>r</sub>";
                            JalovaSnagaPP.appendChild(p);

                        }

                    }

                }
                Ppp_ukupno = Number(Ppp_ukupno.toFixed(4)); Qpp_ukupno = Number(Qpp_ukupno.toFixed(4));
                P_dionice[0] = Number(Pvn) + Number(Ppp_ukupno);
                Q_dionice[0] = Q1 * n + Number(Qpp_ukupno); pad_napona = (P_dionice[0] * r_array[0] * l_array[0] + Q_dionice[0] * x_array[0] * l_array[0]); if (l_array[0] != 0) { padNpodionicama = (100 / Math.pow(400, 2)) * (P_dionice[0] * r_array[0] * l_array[0] + Q_dionice[0] * x_array[0] * l_array[0]); padNpodionicama = padNpodionicama.toFixed(4); pad_napona_array.push(padNpodionicama); pad_napona_array_duzine.push(l_array[0]); }
                Q_dionice[0] = Number(Q_dionice[0].toFixed(4));
                var string_djelatnasnaga = ""; var string_jalovasnaga = "<br>"; var string_snage_check = 0;

                if (l_array[0] != 0) {
                    string_djelatnasnaga = P_dionice[0].toString() + " &middot " + r_array[0] + " &middot " + l_array[0];
                    string_jalovasnaga = "<br> &nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;" + Q_dionice[0].toString() + " &middot " + x_array[0] + " &middot " + l_array[0]; var string_djelatnajalova;
                    string_snage_check = 1;
                } else {
                    string_snage_check = 0;
                }
                for (i = 1; i < broj_elemenata; i++) {
                    P_dionice[i] = P_dionice[i - 1] - n_array[i - 1] * P1 - Ppp[i - 1];
                    P_dionice[i] = Number(P_dionice[i].toFixed(4));
                    Q_dionice[i] = Q_dionice[i - 1] - n_array[i - 1] * Q1 - Qpp[i - 1];
                    Q_dionice[i] = Number(Q_dionice[i].toFixed(4));

                    pad_napona += (P_dionice[i] * r_array[i] * l_array[i] + Q_dionice[i] * x_array[i] * l_array[i]);
                    if (l_array[i] != 0) {
                        padNpodionicama = (100 / Math.pow(400, 2)) * (P_dionice[i] * r_array[i] * l_array[i] + Q_dionice[i] * x_array[i] * l_array[i]); padNpodionicama = padNpodionicama.toFixed(4);
                        pad_napona_array.push(padNpodionicama); pad_napona_array_duzine.push(l_array[i]);
                        if (string_snage_check == 0) {
                            string_djelatnasnaga += P_dionice[i].toString() + " &middot " + r_array[i] + " &middot " + l_array[i];
                            string_jalovasnaga += "&nbsp;+&nbsp;" + Q_dionice[i].toString() + " &middot " + x_array[i] + " &middot " + l_array[i];
                            string_snage_check = 1;
                        } else {
                            string_djelatnasnaga += "&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;" + P_dionice[i].toString() + " &middot " + r_array[i] + " &middot " + l_array[i];
                            string_jalovasnaga += "&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;" + Q_dionice[i].toString() + " &middot " + x_array[i] + " &middot " + l_array[i];
                        }

                    }

                }

                string_djelatnajalova = string_djelatnasnaga + string_jalovasnaga;
                document.getElementById("djelatnasnaga_duzina").innerHTML = string_djelatnajalova;
                pad_napona = (100 / Math.pow(400, 2)) * pad_napona;
                pad_napona = pad_napona.toFixed(4);
                pad_napona = Number(pad_napona);
                document.getElementById("rjesenje").innerHTML = "= " + pad_napona + " %";

                var pad_napona_array_div = document.createElement("div");
                pad_napona_array_div.style.width = "400px"; pad_napona_array_div.style.overflowY = "scroll";
                pad_napona_array_div.style.height = "200px";
                pad_napona_array_div.style.backgroundColor = "#F5F3F3";
                pad_napona_array_div.style.position = "absolute";
                pad_napona_array_div.style.left = "800px";
                pad_napona_array_div.style.top = "160px";
                for (i = 0; i < pad_napona_array.length; i++) {
                    var p_dionice_napon = document.createElement("p");
                    var span1 = document.createElement("span"); var span2 = document.createElement("span"); var span3 = document.createElement("span"); var p = document.createElement("p");
                    span1.appendChild(document.createTextNode(pad_napona_array[i] + " %")); span2.appendChild(document.createTextNode("Pad napona na dionici " + pad_napona_array_duzine[i] + " m iznosi: "));
                    var prazan_prostor = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
                    span3.innerHTML = prazan_prostor;
                    p.appendChild(span2); p.appendChild(span3); p.appendChild(span1);

                    pad_napona_array_div.appendChild(p);

                }
                document.getElementById("racun_div").appendChild(pad_napona_array_div);




            }


            var fi = 0.15;
            var Pv1 = 7;
            var Pvn = 0;
            var cosfi = 0.95; var cosfi_pp = 0.95;
            var P1 = 1.5; var Q1; var r = 0.3968; var x = 0.077; var Un = 400; var gama = 36; var S = 70;



            document.getElementById("cosfi_ulaz").value = cosfi;
            document.getElementById("fi_ulaz").value = fi;
            document.getElementById("Pi_ulaz").value = Pv1;
            document.getElementById("cosfi_pp_ulaz").value = cosfi_pp;
            document.getElementById("r_ulaz").value = r;
            document.getElementById("x_ulaz").value = x;
            document.getElementById("g_ulaz").value = gama;
            document.getElementById("S_ulaz").value = S;
            document.getElementById("P1_ulaz").value = P1;




            var gS_check = 0;
            $("#gS_open").click(function () {
                if (gS_check == 0 && click_arrow_otpor == 0) {
                    gS_check = 1;
                    $("#specificna_vodljivost").animate({ width: 410 });
                } else if (gS_check == 1 && click_arrow_otpor == 0) {
                    gS_check = 0;
                    $("#specificna_vodljivost").animate({ width: 0 });
                }
            });

            var P1_openclose_check = 0;

            $(".P1_open").click(function () {
                if (P1_openclose_check == 0) {
                    P1_openclose_check = 1;
                    $("#unos_podataka_Pv1fi").animate({ width: 0 });
                    $("#unos_podataka_P1").animate({ width: 390 });
                }
                else {
                    P1_openclose_check = 0;
                    $("#unos_podataka_P1").animate({ width: 0 });
                    $("#unos_podataka_Pv1fi").animate({ width: 390 });

                }



            });


            $("#gS_dugme").click(function () {


                gama = document.getElementById("g_ulaz").value;
                S = document.getElementById("S_ulaz").value;

                r = 1000 / (gama * S);
                r = Number(r.toFixed(4));
                document.getElementById("r_ulaz").value = r;

                if (S == 35) {
                    x = 0.083;
                    document.getElementById("x_ulaz").value = x;
                } else if (S == 70) {
                    x = 0.077;
                    document.getElementById("x_ulaz").value = x;

                }

                gS_check = 0;
                $("#specificna_vodljivost").animate({ width: 0 });



            });

            $("#remove").mouseover(function () {
                $(this).css("background-color", "#08ED9D");
            }); $("#remove").mouseleave(function () { $(this).css("background-color", "#808080"); });

            $("#racunaj").mouseover(function () {
                $(this).css("background-color", "#08ED9D");
            }); $("#racunaj").mouseleave(function () { $(this).css("background-color", "#808080"); });


            $("#add").mouseover(function () {
                $(this).css("background-color", "#08ED9D");
            }); $("#add").mouseleave(function () { $(this).css("background-color", "#808080"); });









            var table_duzina = document.getElementsByClassName("table_duzina")[0];
            var table_otporX = document.getElementsByClassName("table_otpor")[0];
            var table_otpor = document.getElementsByClassName("table_otpor")[1];
            table_otpor.style.position = "relative"; table_otporX.style.position = "relative";

            table_otpor.style.top = "29px"; table_otporX.style.top = "58px";
            table_otpor.style.zIndex = "-1"; table_otporX.style.zIndex = "-2";
            $(".table_otpor").css("visibility", "hidden");


            var click_arrow_otpor = 0; var remember_r_ulaz; var remember_x_ulaz;
            $("#open_otpor").click(function () {
                if (click_arrow_otpor == 0) {
                    $(".table_otpor").css("visibility", "visible");
                    click_arrow_otpor = 1; $(".table_otpor").animate({ top: 0 }); $(".table_otpor").css("z-index", "0")
                    for (i = 0; i < broj_elemenata; i++) {
                        document.getElementById(i.toString() + "otpor" + "input").value = document.getElementById("r_ulaz").value;
                        document.getElementById(i.toString() + "otporX" + "input").value = document.getElementById("x_ulaz").value;
                    }
                    remember_r_ulaz = document.getElementById("r_ulaz").value; document.getElementById("r_ulaz").value = "";
                    remember_x_ulaz = document.getElementById("x_ulaz").value; document.getElementById("x_ulaz").value = "";

                    $(document.getElementById("r_ulaz")).prop('disabled', true);
                    $(document.getElementById("x_ulaz")).prop('disabled', true);
                }
                else {
                    click_arrow_otpor = 0; $(table_otporX).animate({ top: 58 }); $(table_otpor).animate({ top: 29 }, function () { $(".table_otpor").css("visibility", "hidden"); }); table_otpor.style.zIndex = "-1"; table_otporX.style.zIndex = "-2";



                    document.getElementById("x_ulaz").value = remember_x_ulaz;
                    document.getElementById("r_ulaz").value = remember_r_ulaz;
                    $(document.getElementById("r_ulaz")).prop('disabled', false);
                    $(document.getElementById("x_ulaz")).prop('disabled', false);




                }




            });






        });





    </script>
</head>



<body>





    <div id="unos_podataka"
        style="background-color:#F5F3F3; width:370px; height:230px;padding-bottom:15px;padding-top:10px;padding-left:15px;padding-right:5px;">

        <p>Faktor snaga kucanstva cosfi:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="number"
                style="width:50px;text-align:center;" id="cosfi_ulaz"></input></p>

        <div id="unos_podataka_Pv1fi" style="overflow:hidden;position:relative;left:-15px;width:390px;height:58px;">
            <p style="position:relative;top:-15px;">&nbsp;&nbsp;&nbsp;&nbsp;Vršno opterecenje kucanstva
                P<sub>v1</sub>:&nbsp;&nbsp;&nbsp; <input type="number" style="width:50px;text-align:center;"
                    id="Pi_ulaz"></input> [kW]</p>
            <p style="position:relative;top:-16px;">&nbsp;&nbsp;&nbsp;&nbsp;Faktor istovremenosti
                f<sub>i</sub>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="number" style="width:50px;position:relative;top:-2px;text-align:center;"
                    id="fi_ulaz"></input><span class="P1_open"
                    style="position:relative;left:58px;top:-19px;cursor:pointer;">></span></p>
        </div>



        <p>Faktor snage posebnih potrošaèa:&nbsp;&nbsp;&nbsp; <input type="number" style="width:50px;text-align:center;"
                id="cosfi_pp_ulaz"></input></p>
        <p>Jedinièni djelatni otpor
            r:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input
                type="number" style="width:50px;text-align:center;" id="r_ulaz"></input> [&Omega;/km]&nbsp;&nbsp;<span
                id="gS_open" style="cursor:pointer;">></span></p>
        <p>Jedinièni induktivni otpor x:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input
                type="number" style="width:50px;text-align:center;" id="x_ulaz"></input> [&Omega;/km]</p>

        <div id="specificna_vodljivost"
            style="overflow:hidden; background-color:#F5F3F3; width:0px;height:100px;position:relative;left:378px;top:-93px;">

            <p style="font-size: 90%">Specificna elektricna vodljivost vodica &#947:&nbsp;&nbsp; <input type="number"
                    style="width:50px;text-align:center;" id="g_ulaz"></input> [m/ohm mm<sup>2</sup>]</p>

            <p style="font-size: 90%">Povrsina poprecnog presjeka vodica
                :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="number"
                    style="width:50px;text-align:center;" id="S_ulaz"></input> [mm<sup>2</sup>]</p>

            <div id="gS_dugme"
                style="text-align:center;cursor:pointer;background-color:#808080;position:relative;width:55px;height:28px;left:350px;top:-20px;">

                <p style="position:relative;top:5px;">OK</p>
            </div>
        </div>


        <div id="unos_podataka_P1"
            style="overflow:hidden;position:relative;left:-15px;width:0px;height:58px;top:-286px;">
            <p style="position:relative;top:-15px;">&nbsp;&nbsp;&nbsp;&nbsp;Udio jednog kucanstva u ukupnom opterecenju
                iznosi:</p>
            <p style="position:relative;top:-15px;">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="number" style="width:50px;text-align:center;position:relative;left:2px;"
                    id="P1_ulaz"></input><span class="P1_open"
                    style="position:relative;left:58px;top:-18px;cursor:pointer;">></span></p>
        </div>



    </div>



    <div id="program" style="position:relative;top:40px;">


        <table class="table_otpor">
            <tr id="otporX">
                <td style="background-color:#4F4D4D;color:#FFFFFF;width:100px">
                    <div style="position:relative;width:250px;text-align:center">Jedinicni induktivni otpor x
                        (&#8486;/km)</div>
                </td>
            </tr>
        </table>




        <table class="table_otpor">
            <tr id="otpor">
                <td style="background-color:#4F4D4D;color:#FFFFFF;width:100px">
                    <div style="position:relative;width:250px;text-align:center">Jedinicni djelatni otpor r (&#8486;/km)
                    </div>
                </td>
            </tr>
        </table>

        <table class="table_duzina">
            <tr id="duzina">
                <td style="background-color:#4F4D4D;color:#FFFFFF;width:100px">
                    <div style="position:relative;width:250px;text-align:center">Duzina dionice l(m)<span
                            id="open_otpor" style="cursor:pointer">&nbsp;&nbsp;&nbsp;&uarr;(&#8486;/km)</span></div>
                </td>
            </tr>
        </table>
        <table class="table">
            <tr id="brojpotrosaca">
                <td style="background-color:#4F4D4D;color:#FFFFFF;width:100px">
                    <div style="position:relative;width:250px;text-align:center">Broj potrosaca n</div>
                </td>
            </tr>
        </table>
        <table class="table">
            <tr id="snagapp">
                <td style="background-color:#4F4D4D;color:#FFFFFF;width:100px">
                    <div style="position:relative;width:250px;text-align:center">SnagaPosebnogPotrosaca (kW)</div>
                </td>
            </tr>
        </table>

        <div id="remove"
            style="display:inline-block;text-align:center;cursor:pointer;background-color:#808080;position:relative;left:2px;width:55px;height:28px;">
            <span style="position:relative;top:5px;">
                << /span>
        </div>
        <div id="add"
            style="display:inline-block; text-align:center;cursor:pointer;background-color:#808080;position:relative;width:55px;height:28px;">
            <span style="position:relative;top:5px;">></span></div>
        <div id="racunaj"
            style="display:inline-block;text-align:center;cursor:pointer;background-color:#808080;position:relative;left:83px;width:55px;height:28px;">
            <span style="position:relative;top:5px;">OK</span></div>

        <div id="racun_div" style="visibility:hidden">
            <div id="racun_P1">
                <p>Vrsna snaga na razini izvoda na slici, za <span Class="paragraf_n"></span> kuæanstva iznosi:</p>
                <p>P<sub>vn</sub>=P<sub>v1</sub> &middot (f<sub>i</sub> &middot n + (1-f<sub>i</sub>) &middot <span
                        style="white-space: nowrap;">
                        &radic;<span style="text-decoration:overline;">&nbsp;n&nbsp;</span>
                    </span>) = <span class="paragraf_Pv1"></span> &middot (<span class="paragraf_fi"></span> &middot
                    <span class="paragraf_n"></span>
                    + (1-<span class="paragraf_fi"></span>) &middot <span style="white-space: nowrap; ">
                        &radic;<span style="text-decoration:overline;">&nbsp;<span
                                class="paragraf_n"></span>&nbsp;</span>
                    </span>) = <span class="paragraf_Pvn"></span> kW</p>
                <p>Udio <b>jednog kuæanstva</b> u ukupnom optereæenju iznosi:</p>
                <p>P<sub>1</sub> = P<sub>vn</sub> / n = <span class="paragraf_Pvn"></span> / <span
                        class="paragraf_n"></span> = <span class="paragraf_P1"></span> kW</p>
            </div>

            <div id="bezracuna_P1">
                <p>Udio jednog kuæanstva u ukupnom vršnom optereæenju iznosi:</p>
                <p>P<sub>1</sub> = <span class="paragraf_P1"></span> kW</p>
                <p>Ukupno vršno optereæenje izvoda sa slike iznosi:</p>
                <p>P<sub>vn</sub> = P<sub>1</sub> &middot n = <span class="paragraf_P1"></span> &middot <span
                        class="paragraf_n"></span> = <span class="paragraf_Pvn"></span> kW</p>



            </div>

            <p>Odgovarajuæa optereæenja jalovom snagom raèunaju se iz zadanog faktora snage kuæanstva:</p>

            <p>Q<sub>1</sub> = P<sub>1</sub> &middot <span style="white-space: nowrap; ">
                    &radic;<span style="text-decoration:overline;">&nbsp;1-cosfi<sup>2</sup>&nbsp;</span>
                </span> / cosfi &nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp; <span class="paragraf_P1"></span> &middot <span
                    style="white-space: nowrap;">
                    &radic;<span style="text-decoration:overline;">&nbsp;1-<span
                            class="paragraf_cosfi"></span><sup>2</sup>&nbsp;</span>
                </span> / <span class="paragraf_cosfi"></span> &nbsp;&nbsp;&nbsp; = &nbsp;&nbsp;&nbsp;<span
                    class="paragraf_Q1"></span> kVA<sub>r</sub></p>


            <div id="jalovasnagaPP">




            </div>

            <p>Procentualna vrjednost pada napona u krajnjoj taèki izvoda sa slike raèuna se po formuli:</p>

            <p><img src="formula.png" style="position:realtive;height:100px;width:300px;"></img></p>



            <div style="position:relative;left:500px;top:-100px;">
                <p class="marginp">pri èemu je:</p>
                <p class="marginp">P<sub>i</sub>, Q<sub>i</sub> - djelatna odnosno jalova snaga koje teku i-tom dionicom
                </p>
                <pclass="marginp">l<sub>i</sub> - duljina i-te dionice [m]</p>
            </div>

            <div style="position:relative;top:-90px;">
                <p> = (100/400<sup>2</sup>) &middot ( <span id="djelatnasnaga_duzina"></span> ) = <br><span
                        id="rjesenje"></span> </p>

            </div>

        </div>
    </div>






</body>

</html>